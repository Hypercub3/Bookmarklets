javascript:(function(){var styleId="myHighlightTermGlobalStyle";if(!document.getElementById(styleId)){var style=document.createElement("style");style.id=styleId,style.type="text/css",style.appendChild(document.createTextNode("[data-highlight-term] { color: black !important; }")),document.head.appendChild(style)}var highlighters=['#B2EBF2','#FFCCBC','#C8E6C9','#E1BEE7','#FFF59D','#B3E5FC','#F8BBD0','#C5CAE9'];function shuffle(array){for(var i=array.length-1;i>0;i--){var j=Math.floor(Math.random()*(i+1));[array[i],array[j]]=[array[j],array[i]]}return array}window.myHighlightMapping||(window.myHighlightMapping={}),window.myHighlightPalette||(window.myHighlightPalette=highlighters),window.myHighlightColorCycle||(window.myHighlightColorCycle=shuffle(window.myHighlightPalette.slice()));var selection=window.getSelection().toString().trim(),term=selection||prompt("Enter text to highlight:");if(term){function getNextColor(){return 0===window.myHighlightColorCycle.length&&(window.myHighlightColorCycle=shuffle(window.myHighlightPalette.slice())),window.myHighlightColorCycle.shift()}function escapeRegExp(string){return string.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var newColor=getNextColor();window.myHighlightMapping[term]=newColor,function(term,color){var safeTerm="undefined"!=typeof CSS&&CSS.escape?CSS.escape(term):term.replace(/'/g,"\\'");document.querySelectorAll('span[data-highlight-term="'+safeTerm+'"]').forEach(function(span){span.style.backgroundColor=color})}(term,newColor);!function highlightTerm(node,term,color){if(3===node.nodeType&&!function isInsideHighlight(node){for(;node.parentNode;){if((node=node.parentNode).nodeType===1&&node.hasAttribute("data-highlight-term"))return!0}return!1}(node)){var regex=new RegExp(escapeRegExp(term),"gi");if(regex.test(node.data)){var span=document.createElement("span");span.innerHTML=node.data.replace(regex,function(match){return'<span data-highlight-term="'+term+'" style="background-color:'+color+';">'+match+"</span>"}),node.parentNode.replaceChild(span,node)}}else if(1===node.nodeType&&!/(script|style|textarea|noscript)/i.test(node.tagName))for(var i=0;i<node.childNodes.length;i++)highlightTerm(node.childNodes[i],term,color)}(document.body,term,newColor)}})();